<!DOCTYPE html> 
<html lang="en" class="dark"> 
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>HKDSE BAFS: Accruals & Prepayments</title> 
    <script src="https://cdn.tailwindcss.com"></script> 
    <style> 
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap'); 
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: #f1f5f9; } 
        .tab-content { display: none; } 
        .tab-content.active { display: block; } 
        .card { background: #1e293b; border: 1px solid #334155; border-radius: 0.75rem; } 
        .btn-primary { background: #3b82f6; color: white; transition: all 0.2s; } 
        .btn-primary:hover { background: #2563eb; transform: translateY(-1px); } 
        .table-auto td, .table-auto th { border: 1px solid #334155; padding: 0.75rem; } 
        .table-auto th { background-color: #0f172a; } 
        
        /* Mindmap Animations */ 
        @keyframes pulse { 
            0% { transform: scale(1); opacity: 1; } 
            50% { transform: scale(1.05); opacity: 0.8; } 
            100% { transform: scale(1); opacity: 1; } 
        } 
        .node-main { animation: pulse 3s infinite ease-in-out; } 
        .connector { stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: draw 2s forwards ease-out; } 
        @keyframes draw { to { stroke-dashoffset: 0; } } 
    </style> 
</head> 
<body class="min-h-screen"> 

    <!-- Navigation --> 
    <nav class="border-b border-slate-700 bg-slate-900 sticky top-0 z-50"> 
        <div class="max-w-6xl mx-auto px-4"> 
            <div class="flex flex-col md:flex-row justify-between items-center py-4 space-y-4 md:space-y-0"> 
                <h1 class="text-xl font-bold text-blue-400">HKDSE F4 BAFS</h1> 
                <div class="flex space-x-2 overflow-x-auto pb-2 md:pb-0"> 
                    <button onclick="showTab('summary')" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-800 active-tab bg-blue-600" id="btn-summary">Summary</button> 
                    <button onclick="showTab('mindmap')" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-800" id="btn-mindmap">Mind-Map</button> 
                    <button onclick="showTab('game')" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-800" id="btn-game">Practice Game</button> 
                    <button onclick="showTab('video')" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-800" id="btn-video">Videos</button> 
                </div> 
            </div> 
        </div> 
    </nav> 

    <main class="max-w-6xl mx-auto p-4 mt-6"> 
        
        <!-- SUMMARY TAB --> 
        <section id="summary" class="tab-content active space-y-8"> 
            <div class="text-center mb-10"> 
                <h2 class="text-4xl font-extrabold mb-2 text-white">Chapter 9: Accruals and Prepayments</h2> 
                <p class="text-slate-400">Comprehensive Revision Notes for HKDSE</p> 
            </div> 

            <!-- 1. Accounting Basis Comparison --> 
            <div class="card p-6"> 
                <h3 class="text-2xl font-bold text-blue-400 mb-4">9.2 Cash Accounting vs. Accrual Accounting</h3> 
                <div class="overflow-x-auto"> 
                    <table class="table-auto w-full text-left text-sm"> 
                        <thead> 
                            <tr> 
                                <th>Feature</th> 
                                <th>Cash Accounting</th> 
                                <th>Accrual Accounting (HKDSE Std)</th> 
                            </tr> 
                        </thead> 
                        <tbody class="text-slate-300"> 
                            <tr> 
                                <td class="font-bold text-white">Revenue Recognition</td> 
                                <td>When cash is actually received.</td> 
                                <td>When earned (goods delivered/accepted).</td> 
                            </tr> 
                            <tr> 
                                <td class="font-bold text-white">Expense Recognition</td> 
                                <td>When cash is actually paid.</td> 
                                <td>When incurred (services consumed).</td> 
                            </tr> 
                            <tr> 
                                <td class="font-bold text-white">Financial Accuracy</td> 
                                <td>Focuses on cash flow only.</td> 
                                <td>Accurate financial performance (Income Statement).</td> 
                            </tr> 
                            <tr> 
                                <td class="font-bold text-white">Preferred for</td> 
                                <td>Smallest businesses/Personal finance.</td> 
                                <td>Professional practice & Business reporting.</td> 
                            </tr> 
                        </tbody> 
                    </table> 
                </div> 
            </div> 

            <div class="grid md:grid-cols-2 gap-6"> 
                <!-- 2. The Accounting Cycle --> 
                <div class="card p-6"> 
                    <h3 class="text-xl font-bold text-purple-400 mb-4">9.1 The Accounting Cycle</h3> 
                    <ol class="list-decimal list-inside space-y-2 text-slate-300 text-sm"> 
                        <li>Recording transactions in books of original entry.</li> 
                        <li>Posting to ledger accounts.</li> 
                        <li>Preparing a Trial Balance.</li> 
                        <li><span class="text-white font-bold italic">Making Adjusting Entries (Accruals/Prepayments).</span></li> 
                        <li>Preparing Financial Statements.</li> 
                    </ol> 
                </div> 

                <!-- 3. Key Definitions --> 
                <div class="card p-6"> 
                    <h3 class="text-xl font-bold text-orange-400 mb-4">Key Definitions</h3> 
                    <ul class="space-y-2 text-sm text-slate-300"> 
                        <li><strong class="text-white">Accrued Expense:</strong> Incurred but unpaid by period-end.</li> 
                        <li><strong class="text-white">Accrued Revenue:</strong> Earned but unreceived (Revenue in arrears).</li> 
                        <li><strong class="text-white">Prepaid Expense:</strong> Paid but not yet incurred.</li> 
                        <li><strong class="text-white">Unearned Revenue:</strong> Received but not yet earned (Revenue in advance).</li> 
                    </ul> 
                </div> 
            </div> 

            <!-- 4. Income Statement Treatment --> 
            <div class="card p-6"> 
                <h3 class="text-2xl font-bold text-indigo-400 mb-6">Financial Statement Treatment (Income Statement)</h3> 
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4"> 
                    <div class="bg-indigo-900/20 p-4 border border-indigo-500/30 rounded-lg"> 
                        <h4 class="text-indigo-300 font-bold mb-2 underline">Expenses for the Period</h4> 
                        <p class="text-xs text-slate-400 mb-3 italic">Calculation of amount transferred to Profit & Loss:</p> 
                        <div class="bg-slate-900/80 p-3 rounded font-mono text-sm space-y-1"> 
                            <p class="flex justify-between"><span>Cash Paid</span> <span class="text-slate-500">$ X</span></p> 
                            <p class="flex justify-between text-green-400"><span>+ Accrued at end</span> <span>$ X</span></p> 
                            <p class="flex justify-between text-red-400"><span>- Accrued at start</span> <span>($ X)</span></p> 
                            <p class="flex justify-between text-red-400"><span>- Prepaid at end</span> <span>($ X)</span></p> 
                            <p class="flex justify-between text-green-400"><span>+ Prepaid at start</span> <span>$ X</span></p> 
                            <hr class="border-slate-700 my-1"> 
                            <p class="flex justify-between text-white font-bold"><span>Total Expense</span> <span>$ Net</span></p> 
                        </div> 
                    </div> 
                    <div class="bg-amber-900/20 p-4 border border-amber-500/30 rounded-lg"> 
                        <h4 class="text-amber-300 font-bold mb-2 underline">Revenues for the Period</h4> 
                        <p class="text-xs text-slate-400 mb-3 italic">Calculation of revenue earned during the period:</p> 
                        <div class="bg-slate-900/80 p-3 rounded font-mono text-sm space-y-1"> 
                            <p class="flex justify-between"><span>Cash Received</span> <span class="text-slate-500">$ X</span></p> 
                            <p class="flex justify-between text-green-400"><span>+ Accrued at end</span> <span>$ X</span></p> 
                            <p class="flex justify-between text-red-400"><span>- Accrued at start</span> <span>($ X)</span></p> 
                            <p class="flex justify-between text-red-400"><span>- Unearned at end</span> <span>($ X)</span></p> 
                            <p class="flex justify-between text-green-400"><span>+ Unearned at start</span> <span>$ X</span></p> 
                            <hr class="border-slate-700 my-1"> 
                            <p class="flex justify-between text-white font-bold"><span>Total Revenue</span> <span>$ Net</span></p> 
                        </div> 
                    </div> 
                </div> 
            </div> 

            <!-- 5. Statement Impacts (SOFP) --> 
            <div class="card p-6"> 
                <h3 class="text-2xl font-bold text-green-400 mb-6">Financial Statement Treatment (SOFP)</h3> 
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4"> 
                    <div class="bg-blue-900/20 p-4 border border-blue-500/30 rounded-lg"> 
                        <h4 class="text-blue-400 font-bold mb-2 underline">Current Assets (CA)</h4> 
                        <ul class="list-disc list-inside text-sm text-slate-300"> 
                            <li>Prepaid Expenses</li> 
                            <li>Accrued Revenues</li> 
                        </ul> 
                    </div> 
                    <div class="bg-red-900/20 p-4 border border-red-500/30 rounded-lg"> 
                        <h4 class="text-red-400 font-bold mb-2 underline">Current Liabilities (CL)</h4> 
                        <ul class="list-disc list-inside text-sm text-slate-300"> 
                            <li>Accrued Expenses</li> 
                            <li>Unearned Revenues</li> 
                        </ul> 
                    </div> 
                </div> 
            </div> 

            <!-- 6. T-Account Tactics --> 
            <div class="card p-6"> 
                <h3 class="text-2xl font-bold text-yellow-400 mb-4">9.6 Calculation Tactics (The "Add/Deduct" Method)</h3> 
                <div class="overflow-x-auto"> 
                    <table class="table-auto w-full text-sm"> 
                        <thead> 
                            <tr class="text-left"> 
                                <th>Item Type</th> 
                                <th>Treatment relative to Cash Receipt/Payment</th> 
                            </tr> 
                        </thead> 
                        <tbody class="text-slate-300"> 
                            <tr> 
                                <td class="text-white font-bold">Accrual at Year-End</td> 
                                <td class="text-green-400 font-bold">ADD (+)</td> 
                            </tr> 
                            <tr> 
                                <td class="text-white font-bold">Accrual at Year-Start (Brought Forward)</td> 
                                <td class="text-red-400 font-bold">DEDUCT (-)</td> 
                            </tr> 
                            <tr> 
                                <td class="text-white font-bold">Prepayment at Year-End</td> 
                                <td class="text-red-400 font-bold">DEDUCT (-)</td> 
                            </tr> 
                            <tr> 
                                <td class="text-white font-bold">Prepayment at Year-Start (Brought Forward)</td> 
                                <td class="text-green-400 font-bold">ADD (+)</td> 
                            </tr> 
                        </tbody> 
                    </table> 
                </div> 
            </div> 

            <!-- 7. Rent Free Section --> 
            <div class="card p-6 border-l-4 border-cyan-500 bg-cyan-950/10"> 
                <h3 class="text-xl font-bold text-cyan-400 mb-2">9.7 Rent-free Period</h3> 
                <p class="text-slate-300 text-sm mb-4">A marketing tactic to attract tenants. The total rent for the <span class="italic">actual payable months</span> must be spread (amortised) equally over the <span class="italic">entire lease term</span>.</p> 
                <div class="bg-slate-900 p-4 rounded-lg border border-slate-700"> 
                    <p class="font-bold text-white mb-2 underline">Steps for DSE Problems:</p> 
                    <ol class="list-decimal list-inside text-sm text-slate-300 space-y-1"> 
                        <li>Calculate Total Contract Value (Monthly Rent × Months Paid).</li> 
                        <li>Divide by Total Months in Lease (including free months).</li> 
                        <li>Record this fixed amount in the Income Statement monthly.</li> 
                    </ol> 
                </div> 
            </div> 

            <!-- 8. Alternative Method --> 
            <div class="card p-6"> 
                <h3 class="text-xl font-bold text-pink-400 mb-2">9.8 Alternative Method</h3> 
                <p class="text-slate-300 text-sm mb-4">Using separate accounts for adjustments rather than carrying balances in the expense/revenue account.</p> 
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs font-mono"> 
                    <div class="bg-slate-800 p-2 rounded">Dr Expense Account<br>Cr Accrued Expense Account</div> 
                    <div class="bg-slate-800 p-2 rounded">Dr Prepaid Expense Account<br>Cr Expense Account</div> 
                </div> 
            </div> 
        </section> 

        <!-- MINDMAP TAB --> 
        <section id="mindmap" class="tab-content"> 
            <div class="card p-8 min-h-[600px] flex flex-col items-center justify-center bg-slate-900/50"> 
                <div class="text-center mb-8"> 
                    <h3 class="text-2xl font-bold text-white">Visual Relationship Map</h3> 
                    <p class="text-slate-400 text-sm">How adjustments flow into the Financial Statements</p> 
                </div> 
                
                <svg width="800" height="500" viewBox="0 0 800 500" class="max-w-full h-auto drop-shadow-2xl"> 
                    <defs> 
                        <linearGradient id="blueGrad" x1="0%" y1="0%" x2="100%" y2="100%"> 
                            <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" /> 
                            <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" /> 
                        </linearGradient> 
                    </defs> 

                    <path d="M 400 250 Q 300 150 180 150" fill="none" stroke="#ef4444" stroke-width="3" class="connector" /> 
                    <path d="M 400 250 Q 500 150 620 150" fill="none" stroke="#22c55e" stroke-width="3" class="connector" /> 
                    <path d="M 400 250 Q 300 350 180 350" fill="none" stroke="#22c55e" stroke-width="3" class="connector" /> 
                    <path d="M 400 250 Q 500 350 620 350" fill="none" stroke="#ef4444" stroke-width="3" class="connector" /> 

                    <g class="node-main"> 
                        <circle cx="400" cy="250" r="70" fill="url(#blueGrad)" stroke="#60a5fa" stroke-width="4" /> 
                        <text x="400" y="240" text-anchor="middle" fill="white" font-weight="bold" font-size="16">ADJUSTING</text> 
                        <text x="400" y="265" text-anchor="middle" fill="white" font-weight="bold" font-size="16">ENTRIES</text> 
                    </g> 

                    <g> 
                        <rect x="50" y="110" width="180" height="80" rx="12" fill="#1e293b" stroke="#ef4444" stroke-width="2"/> 
                        <text x="140" y="140" text-anchor="middle" fill="#ef4444" font-weight="bold" font-size="14">Accrued Expenses</text> 
                        <text x="140" y="160" text-anchor="middle" fill="#94a3b8" font-size="11">Current Liability (CL)</text> 
                    </g> 

                    <g> 
                        <rect x="570" y="110" width="180" height="80" rx="12" fill="#1e293b" stroke="#22c55e" stroke-width="2"/> 
                        <text x="660" y="140" text-anchor="middle" fill="#22c55e" font-weight="bold" font-size="14">Prepaid Expenses</text> 
                        <text x="660" y="160" text-anchor="middle" fill="#94a3b8" font-size="11">Current Asset (CA)</text> 
                    </g> 

                    <g> 
                        <rect x="50" y="310" width="180" height="80" rx="12" fill="#1e293b" stroke="#22c55e" stroke-width="2"/> 
                        <text x="140" y="340" text-anchor="middle" fill="#22c55e" font-weight="bold" font-size="14">Accrued Revenue</text> 
                        <text x="140" y="360" text-anchor="middle" fill="#94a3b8" font-size="11">Current Asset (CA)</text> 
                    </g> 

                    <g> 
                        <rect x="570" y="310" width="180" height="80" rx="12" fill="#1e293b" stroke="#ef4444" stroke-width="2"/> 
                        <text x="660" y="340" text-anchor="middle" fill="#ef4444" font-weight="bold" font-size="14">Unearned Revenue</text> 
                        <text x="660" y="360" text-anchor="middle" fill="#94a3b8" font-size="11">Current Liability (CL)</text> 
                    </g> 

                    <g transform="translate(320, 440)"> 
                        <rect x="0" y="0" width="15" height="15" fill="#22c55e" rx="3"/> 
                        <text x="20" y="12" fill="#94a3b8" font-size="10">Debit Balance (Asset)</text> 
                        <rect x="0" y="20" width="15" height="15" fill="#ef4444" rx="3"/> 
                        <text x="20" y="32" fill="#94a3b8" font-size="10">Credit Balance (Liability)</text> 
                    </g> 
                </svg> 
            </div> 
        </section> 

        <!-- GAME TAB --> 
        <section id="game" class="tab-content"> 
            <div class="max-w-2xl mx-auto space-y-6"> 
                <div class="card p-8"> 
                    <div class="flex justify-between items-center mb-6"> 
                        <span class="text-blue-400 font-bold uppercase tracking-widest text-xs">Unlimited Dynamic Practice</span> 
                        <span id="score-box" class="text-green-400 font-mono">Score: 0</span> 
                    </div> 
                    <div id="question-container" class="space-y-6"> 
                        <h4 id="question-text" class="text-xl font-medium leading-relaxed">Press "Next" to start!</h4> 
                        <div id="options-grid" class="grid grid-cols-1 gap-3"></div> 
                    </div> 
                    <div id="feedback" class="mt-6 p-4 rounded-lg hidden"></div> 
                    <button id="next-btn" onclick="generateQuestion()" class="w-full mt-6 py-3 btn-primary rounded-xl font-bold">Next Question</button> 
                </div> 
            </div> 
        </section> 

        <!-- VIDEO TAB --> 
        <section id="video" class="tab-content"> 
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"> 
                <!-- Video 1 -->
                <div class="card overflow-hidden"> 
                    <div class="aspect-video bg-slate-800 flex items-center justify-center relative"> 
                        <img src="https://img.youtube.com/vi/fY4rl0Ps2i0/mqdefault.jpg" class="absolute inset-0 w-full h-full object-cover opacity-50" alt="Video Thumb">
                        <span class="z-10 text-white font-bold bg-black/50 px-2 py-1 rounded text-sm">Guts Edu</span> 
                    </div> 
                    <div class="p-4"> 
                        <h4 class="font-bold text-sm h-12 overflow-hidden">【DSE BAFS】PREPAYMENT & ACCRUALS | BALANCING DAY ADJUSTMENT</h4> 
                        <p class="text-xs text-slate-400 mt-2">DSE-focused tips on balancing day entries and water/interest cases.</p> 
                        <a href="https://www.youtube.com/watch?v=fY4rl0Ps2i0" target="_blank" class="text-blue-400 text-xs mt-3 inline-block font-semibold">Watch on YouTube →</a> 
                    </div> 
                </div> 

                <!-- Video 2 -->
                <div class="card overflow-hidden"> 
                    <div class="aspect-video bg-slate-800 flex items-center justify-center relative"> 
                        <img src="https://img.youtube.com/vi/6UJKsQXhlHc/mqdefault.jpg" class="absolute inset-0 w-full h-full object-cover opacity-50" alt="Video Thumb">
                        <span class="z-10 text-white font-bold bg-black/50 px-2 py-1 rounded text-sm">Desmond</span> 
                    </div> 
                    <div class="p-4"> 
                        <h4 class="font-bold text-sm h-12 overflow-hidden">DSE 企會財(BAFS)急救系列(14)：應計及預付項目</h4> 
                        <p class="text-xs text-slate-400 mt-2">Full Cantonese explanation with double entries and T-accounts.</p> 
                        <a href="https://www.youtube.com/watch?v=6UJKsQXhlHc" target="_blank" class="text-blue-400 text-xs mt-3 inline-block font-semibold">Watch on YouTube →</a> 
                    </div> 
                </div> 

                <!-- Video 3 -->
                <div class="card overflow-hidden"> 
                    <div class="aspect-video bg-slate-800 flex items-center justify-center relative"> 
                        <img src="https://img.youtube.com/vi/KW0bVAg4sM8/mqdefault.jpg" class="absolute inset-0 w-full h-full object-cover opacity-50" alt="Video Thumb">
                        <span class="z-10 text-white font-bold bg-black/50 px-2 py-1 rounded text-sm">Wong Sir</span> 
                    </div> 
                    <div class="p-4"> 
                        <h4 class="font-bold text-sm h-12 overflow-hidden">Wong sir DSE BAFS prepayment and accrual</h4> 
                        <p class="text-xs text-slate-400 mt-2">Quick revision with handwritten questions on recording methods.</p> 
                        <a href="https://www.youtube.com/watch?v=KW0bVAg4sM8" target="_blank" class="text-blue-400 text-xs mt-3 inline-block font-semibold">Watch on YouTube →</a> 
                    </div> 
                </div> 

                <!-- Video 4 -->
                <div class="card overflow-hidden"> 
                    <div class="aspect-video bg-slate-800 flex items-center justify-center relative"> 
                        <img src="https://img.youtube.com/vi/1bwtlqbHgTs/mqdefault.jpg" class="absolute inset-0 w-full h-full object-cover opacity-50" alt="Video Thumb">
                        <span class="z-10 text-white font-bold bg-black/50 px-2 py-1 rounded text-sm">Miss Leung</span> 
                    </div> 
                    <div class="p-4"> 
                        <h4 class="font-bold text-sm h-12 overflow-hidden">2021 DSE BAFS Paper 2A Q1 Walkthrough</h4> 
                        <p class="text-xs text-slate-400 mt-2">Past paper application with T-account teaching for exam prep.</p> 
                        <a href="https://www.youtube.com/watch?v=1bwtlqbHgTs" target="_blank" class="text-blue-400 text-xs mt-3 inline-block font-semibold">Watch on YouTube →</a> 
                    </div> 
                </div> 

                <!-- Video 5 -->
                <div class="card overflow-hidden"> 
                    <div class="aspect-video bg-slate-800 flex items-center justify-center relative"> 
                        <img src="https://img.youtube.com/vi/w0uD40Tz304/mqdefault.jpg" class="absolute inset-0 w-full h-full object-cover opacity-50" alt="Video Thumb">
                        <span class="z-10 text-white font-bold bg-black/50 px-2 py-1 rounded text-sm">BAFS HSS</span> 
                    </div> 
                    <div class="p-4"> 
                        <h4 class="font-bold text-sm h-12 overflow-hidden">應計費用預付費用總結 DSE BAFS</h4> 
                        <p class="text-xs text-slate-400 mt-2">Cantonese summary of Chapter 9 key points and financial effects.</p> 
                        <a href="https://www.youtube.com/watch?v=w0uD40Tz304" target="_blank" class="text-blue-400 text-xs mt-3 inline-block font-semibold">Watch on YouTube →</a> 
                    </div> 
                </div> 

                <!-- Video 6 -->
                <div class="card overflow-hidden"> 
                    <div class="aspect-video bg-slate-800 flex items-center justify-center relative"> 
                        <img src="https://img.youtube.com/vi/nwEWabQGYVs/mqdefault.jpg" class="absolute inset-0 w-full h-full object-cover opacity-50" alt="Video Thumb">
                        <span class="z-10 text-white font-bold bg-black/50 px-2 py-1 rounded text-sm">Desmond</span> 
                    </div> 
                    <div class="p-4"> 
                        <h4 class="font-bold text-sm h-12 overflow-hidden">BAFS 急救系列(18C)：年終調整</h4> 
                        <p class="text-xs text-slate-400 mt-2">Companion to #2: Focus on reporting in Financial Statements.</p> 
                        <a href="https://www.youtube.com/watch?v=nwEWabQGYVs" target="_blank" class="text-blue-400 text-xs mt-3 inline-block font-semibold">Watch on YouTube →</a> 
                    </div> 
                </div> 
            </div> 
        </section> 

    </main> 

    <script> 
        // Tab Logic 
        function showTab(tabId) { 
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active')); 
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('bg-blue-600')); 
            document.getElementById(tabId).classList.add('active'); 
            document.getElementById('btn-' + tabId).classList.add('bg-blue-600'); 
        } 

        // UNLIMITED DYNAMIC GAME LOGIC 
        let score = 0; 
        let currentCorrectIndex = -1; 

        function getRandomInt(min, max, step = 100) { 
            return Math.floor(Math.random() * ((max - min) / step + 1)) * step + min; 
        } 

        function formatVal(val) { 
            return "$" + val.toLocaleString(); 
        } 

        function generateQuestion() { 
            const feedback = document.getElementById('feedback'); 
            const nextBtn = document.getElementById('next-btn'); 
            const qText = document.getElementById('question-text'); 
            const optionsGrid = document.getElementById('options-grid'); 
            
            feedback.classList.add('hidden'); 
            nextBtn.classList.add('hidden'); 
            optionsGrid.innerHTML = ''; 

            const type = Math.floor(Math.random() * 5) + 1; 
            let question = ""; 
            let correctAns = ""; 
            let options = []; 

            switch(type) { 
                case 1: // Expense Calculation 
                    const paid = getRandomInt(10000, 50000); 
                    const accStart = getRandomInt(1000, 5000); 
                    const accEnd = getRandomInt(1000, 5000); 
                    const result = paid + accEnd - accStart; 
                    question = `A firm paid ${formatVal(paid)} for electricity during the year. Accrued electricity at the start was ${formatVal(accStart)} and at the end was ${formatVal(accEnd)}. What is the electricity expense for the Income Statement?`; 
                    correctAns = formatVal(result); 
                    options = [correctAns, formatVal(paid + accStart - accEnd), formatVal(paid + accEnd), formatVal(paid - accStart)]; 
                    break; 

                case 2: // Rent Free Period 
                    const rent = getRandomInt(5000, 15000, 1000); 
                    const months = 12; 
                    const free = Math.floor(Math.random() * 2) + 1; 
                    const revenue = Math.round((rent * (months - free)) / months); 
                    question = `A tenant signed a 12-month lease at ${formatVal(rent)} per month, with a ${free}-month rent-free period. How much rent revenue should the landlord recognize monthly under accrual accounting?`; 
                    correctAns = formatVal(revenue); 
                    options = [correctAns, formatVal(rent), formatVal(rent * (months - free)), formatVal(Math.round(rent / months))]; 
                    break; 

                case 3: // SOFP Classification 
                    const items = [ 
                        { name: "Accrued Revenue", cat: "Current Asset" }, 
                        { name: "Prepaid Expense", cat: "Current Asset" }, 
                        { name: "Accrued Expense", cat: "Current Liability" }, 
                        { name: "Unearned Revenue (Revenue in Advance)", cat: "Current Liability" } 
                    ]; 
                    const item = items[Math.floor(Math.random() * items.length)]; 
                    question = `In the Statement of Financial Position (SOFP), "${item.name}" should be classified as a:`; 
                    correctAns = item.cat; 
                    options = ["Current Asset", "Current Liability", "Non-current Asset", "Non-current Liability"]; 
                    break; 

                case 4: // Revenue Adjustment 
                    const rec = getRandomInt(20000, 100000, 500); 
                    const unearnedEnd = getRandomInt(2000, 10000, 500); 
                    const revResult = rec - unearnedEnd; 
                    question = `A firm received ${formatVal(rec)} in commissions. However, ${formatVal(unearnedEnd)} of this amount relates to services to be provided in the next financial year (unearned). What is the commission revenue for the current year?`; 
                    correctAns = formatVal(revResult); 
                    options = [correctAns, formatVal(rec), formatVal(rec + unearnedEnd), formatVal(unearnedEnd)]; 
                    break; 

                case 5: // Logic/Concept 
                    const concepts = [ 
                        { q: "Under the accrual basis, expenses are recognized when they are:", a: "Incurred", o: ["Paid", "Incurred", "Budgeted", "Received"] }, 
                        { q: "Accrual accounting is preferred over cash accounting because it:", a: "Matches revenues with expenses", o: ["Is easier to calculate", "Matches revenues with expenses", "Only records cash flows", "Avoids using estimates"] } 
                    ]; 
                    const concept = concepts[Math.floor(Math.random() * concepts.length)]; 
                    question = concept.q; 
                    correctAns = concept.a; 
                    options = concept.o; 
                    break; 
            } 

            qText.innerText = question; 
            options.sort(() => Math.random() - 0.5); 
            currentCorrectIndex = options.indexOf(correctAns); 

            options.forEach((opt, index) => { 
                const btn = document.createElement('button'); 
                btn.className = "w-full text-left p-4 card hover:bg-slate-700 transition-colors border-slate-700 flex justify-between items-center group"; 
                btn.innerHTML = `<span>${opt}</span><span class="opacity-0 group-hover:opacity-50 text-xs">Select</span>`; 
                btn.onclick = () => checkAnswer(index, btn); 
                optionsGrid.appendChild(btn); 
            }); 
        } 

        function checkAnswer(index, btn) { 
            const feedback = document.getElementById('feedback'); 
            const nextBtn = document.getElementById('next-btn'); 
            const buttons = document.querySelectorAll('#options-grid button'); 
            buttons.forEach(b => b.disabled = true); 

            if(index === currentCorrectIndex) { 
                score += 10; 
                feedback.innerText = "Correct! +10 points."; 
                feedback.className = "mt-6 p-4 rounded-lg bg-green-900/50 text-green-400 border border-green-500"; 
                btn.classList.add('border-green-500', 'bg-green-900/20'); 
            } else { 
                feedback.innerText = "Incorrect. Try another one!"; 
                feedback.className = "mt-6 p-4 rounded-lg bg-red-900/50 text-red-400 border border-red-500"; 
                btn.classList.add('border-red-500', 'bg-red-900/20'); 
                buttons[currentCorrectIndex].classList.add('border-green-500', 'bg-green-900/20'); 
            } 
            
            document.getElementById('score-box').innerText = "Score: " + score; 
            feedback.classList.remove('hidden'); 
            nextBtn.classList.remove('hidden'); 
        } 
    </script> 
</body> 
</html>
